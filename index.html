<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LingoUng Bank - Кадыровы</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Все предыдущие стили остаются без изменений */
        
        /* Добавляем стили для модального окна инвестиций */
        .investment-card {
            background: rgba(40, 40, 40, 0.8);
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 15px;
            border: 1px solid rgba(138, 43, 226, 0.3);
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .investment-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(138, 43, 226, 0.3);
        }
        
        .investment-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 5px;
            color: var(--accent);
        }
        
        .investment-desc {
            font-size: 14px;
            color: #aaa;
            margin-bottom: 10px;
        }
        
        .investment-return {
            display: flex;
            justify-content: space-between;
            font-size: 14px;
        }
        
        .return-positive {
            color: #4CAF50;
        }
    </style>
</head>
<body>
    <!-- Весь предыдущий HTML-код остается без изменений до модального окна отправки -->
    
    <!-- Добавляем новое модальное окно для инвестиций -->
    <div class="modal" id="investModal">
        <div class="modal-content">
            <div class="modal-title">Инвестиционные возможности</div>
            
            <div class="investment-card" data-amount="5000" data-return="7">
                <div class="investment-title">Облигации</div>
                <div class="investment-desc">Надежные государственные облигации с фиксированным доходом</div>
                <div class="investment-return">
                    <span>Минимальная сумма: 5,000 ₽</span>
                    <span class="return-positive">Доходность: 7% годовых</span>
                </div>
            </div>
            
            <div class="investment-card" data-amount="10000" data-return="12">
                <div class="investment-title">Акции роста</div>
                <div class="investment-desc">Инвестиции в перспективные технологические компании</div>
                <div class="investment-return">
                    <span>Минимальная сумма: 10,000 ₽</span>
                    <span class="return-positive">Доходность: до 12% годовых</span>
                </div>
            </div>
            
            <div class="investment-card" data-amount="20000" data-return="18">
                <div class="investment-title">Венчурные инвестиции</div>
                <div class="investment-desc">Высокорисковые инвестиции в стартапы</div>
                <div class="investment-return">
                    <span>Минимальная сумма: 20,000 ₽</span>
                    <span class="return-positive">Потенциальная доходность: до 18%</span>
                </div>
            </div>
            
            <div class="modal-actions">
                <button class="modal-btn cancel" id="cancelInvest">Закрыть</button>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Все предыдущие переменные и функции остаются
            
            // Добавляем новые элементы для инвестиций
            const investModal = document.getElementById('investModal');
            const cancelInvest = document.getElementById('cancelInvest');
            const damirInvestBtn = document.querySelector('#damirContent .action-btn:nth-child(4)');
            const darinaInvestBtn = document.querySelector('#darinaContent .action-btn:nth-child(4)');
            const investmentCards = document.querySelectorAll('.investment-card');
            
            // Функция для инвестирования
            function investMoney(balanceElement, transactionsList, amount, returnRate) {
                const currentBalance = parseNumber(balanceElement.textContent);
                
                if (amount > currentBalance) {
                    showNotification('Недостаточно средств для инвестирования!');
                    return false;
                }
                
                const newBalance = currentBalance - amount;
                balanceElement.textContent = formatNumber(newBalance);
                
                const investmentDesc = `Инвестиция (${returnRate}% годовых)`;
                addTransaction(transactionsList, 'expense', amount, investmentDesc);
                
                // Симулируем рост инвестиций через 2 секунды
                setTimeout(() => {
                    const profit = amount * (returnRate / 100);
                    const newBalanceWithProfit = newBalance + amount + profit;
                    balanceElement.textContent = formatNumber(newBalanceWithProfit);
                    
                    addTransaction(transactionsList, 'income', amount + profit, `Доход от инвестиции (+${returnRate}%)`);
                    showNotification(`Ваши инвестиции принесли доход: +₽${formatNumber(profit)}!`);
                }, 2000);
                
                return true;
            }
            
            // Обработчики для кнопок инвестиций
            damirInvestBtn.addEventListener('click', function() {
                investModal.style.display = 'flex';
            });
            
            darinaInvestBtn.addEventListener('click', function() {
                investModal.style.display = 'flex';
            });
            
            // Обработчик закрытия модального окна инвестиций
            cancelInvest.addEventListener('click', function() {
                investModal.style.display = 'none';
            });
            
            // Обработчики для карточек инвестиций
            investmentCards.forEach(card => {
                card.addEventListener('click', function() {
                    const amount = parseInt(this.getAttribute('data-amount'));
                    const returnRate = parseInt(this.getAttribute('data-return'));
                    const title = this.querySelector('.investment-title').textContent;
                    
                    if (currentUser === 'damir') {
                        if (investMoney(damirBalance, damirTransactions, amount, returnRate)) {
                            showNotification(`Вы инвестировали ₽${formatNumber(amount)} в "${title}"`);
                            investModal.style.display = 'none';
                        }
                    } else {
                        if (investMoney(darinaBalance, darinaTransactions, amount, returnRate)) {
                            showNotification(`Вы инвестировали ₽${formatNumber(amount)} в "${title}"`);
                            investModal.style.display = 'none';
                        }
                    }
                });
            });
            
            // Все остальные обработчики событий остаются без изменений
        });
    </script>
</body>
</html>
